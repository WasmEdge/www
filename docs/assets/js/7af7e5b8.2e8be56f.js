"use strict";(self.webpackChunkbook=self.webpackChunkbook||[]).push([[6974],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>f});var o=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var i=o.createContext({}),d=function(e){var t=o.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},m=function(e){var t=d(e.components);return o.createElement(i.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},c=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,i=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),p=d(n),c=a,f=p["".concat(i,".").concat(c)]||p[c]||u[c]||r;return n?o.createElement(f,s(s({ref:t},m),{},{components:n})):o.createElement(f,s({ref:t},m))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,s=new Array(r);s[0]=c;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l[p]="string"==typeof e?e:a,s[1]=l;for(var d=2;d<r;d++)s[d]=n[d];return o.createElement.apply(null,s)}return o.createElement.apply(null,n)}c.displayName="MDXCreateElement"},34614:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>s,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var o=n(87462),a=(n(67294),n(3905));const r={sidebar_position:6},s="ES6 Modules",l={unversionedId:"develop/javascript/es6",id:"develop/javascript/es6",title:"ES6 Modules",description:"The WasmEdge QuickJS runtime supports ES6 modules. The roll-up commands we used in the React SSR examples convert and bundle CommonJS and NPM modules into ES6 modules to execute in WasmEdge QuickJS. This article will show you how to use the ES6 module in WasmEdge.",source:"@site/docs/develop/javascript/es6.md",sourceDirName:"develop/javascript",slug:"/develop/javascript/es6",permalink:"/docs/develop/javascript/es6",draft:!1,editUrl:"https://github.com/wasmedge/docs/blob/main/docs/develop/javascript/es6.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"developSidebar",previous:{title:"Node.js support",permalink:"/docs/develop/javascript/nodejs"},next:{title:"Built-in modules",permalink:"/docs/develop/javascript/modules"}},i={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Run the example",id:"run-the-example",level:2},{value:"Code Explanation",id:"code-explanation",level:2}],m={toc:d},p="wrapper";function u(e){let{components:t,...n}=e;return(0,a.kt)(p,(0,o.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"es6-modules"},"ES6 Modules"),(0,a.kt)("p",null,"The WasmEdge QuickJS runtime supports ES6 modules. The roll-up commands we used in the ",(0,a.kt)("a",{parentName:"p",href:"ssr"},"React SSR")," examples convert and bundle CommonJS and NPM modules into ES6 modules to execute in WasmEdge QuickJS. This article will show you how to use the ES6 module in WasmEdge."),(0,a.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"./hello_world#prerequisites"},"See here")),(0,a.kt)("h2",{id:"run-the-example"},"Run the example"),(0,a.kt)("p",null,"We will take the example in ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/second-state/wasmedge-quickjs/tree/main/example_js/es6_module_demo"},"example_js/es6_module_demo")," folder as an example. To run the example, you can do the following on the CLI."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"$ wasmedge --dir .:. wasmedge_quickjs.wasm example_js/es6_module_demo/demo.js\nhello from module_def.js\nhello from module_def_async.js\n./module_def_async.js `something` is  async thing\n")),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"Make sure that you run those commands from the ",(0,a.kt)("inlineCode",{parentName:"p"},"wasmedge-quickjs")," directory. ",(0,a.kt)("a",{parentName:"p",href:"./hello_world#prerequisites"},"Here is why"))),(0,a.kt)("h2",{id:"code-explanation"},"Code Explanation"),(0,a.kt)("p",null,"The ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/second-state/wasmedge-quickjs/blob/main/example_js/es6_module_demo/module_def.js"},"module_def.js")," file defines and exports a simple JS function."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"function hello() {\n  console.log('hello from module_def.js');\n}\n\nexport { hello };\n")),(0,a.kt)("p",null,"The ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/second-state/wasmedge-quickjs/blob/main/example_js/es6_module_demo/module_def_async.js"},"module_def_async.js")," file defines and exports an async function and a variable."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"export async function hello() {\n  console.log('hello from module_def_async.js');\n  return 'module_def_async.js : return value';\n}\n\nexport var something = 'async thing';\n")),(0,a.kt)("p",null,"The ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/second-state/wasmedge-quickjs/blob/main/example_js/es6_module_demo/demo.js"},"demo.js")," file imports functions and variables from those modules and executes them."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"import { hello as module_def_hello } from './module_def.js';\n\nmodule_def_hello();\n\nvar f = async () => {\n  let { hello, something } = await import('./module_def_async.js');\n  await hello();\n  console.log('./module_def_async.js `something` is ', something);\n};\n\nf();\n")))}u.isMDXComponent=!0}}]);