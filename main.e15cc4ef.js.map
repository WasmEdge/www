{"version":3,"sources":["js/main.js"],"names":["wasmSnippet","document","querySelector","i","clonedSnippet","cloneNode","parentNode","insertBefore","setActiveFeature","offset","featureContent","getBoundingClientRect","y","winHeight","window","innerHeight","count","featureList","length","activeIndex","Math","floor","lastActiveIndex","classList","remove","add","lastKnownScrollPosition","ticking","querySelectorAll","addEventListener","e","requestAnimationFrame","target","tagName","preventDefault","scrollIntoView","behavior"],"mappings":";AAGS,IADDA,IAAAA,EAAcC,SAASC,cAAc,uBAChCC,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACpBC,IAAAA,EAAgBJ,EAAYK,WAAU,GAC1CL,EAAYM,WAAWC,aAAaH,EAAeJ,GAe9CQ,IAAAA,EAAT,WACQC,IAAAA,EAASC,EAAeC,wBAAwBC,EAChDC,EAAYC,OAAOC,YACnBC,EAAQC,EAAYC,OACpBC,EAAcC,KAAKC,OAAO,GAAMR,EAAYJ,GAAUI,GACtDM,GAAeH,GAASG,EAAc,GAGtCA,IAAgBG,IAChBL,EAAYK,GAAiBC,UAAUC,OAAO,UAC9CP,EAAYE,GAAaI,UAAUE,IAAI,UACvCH,EAAkBH,IAlBtBO,EAA0B,EAC1BC,GAAU,EAEVV,EAAchB,SAAS2B,iBAAiB,wBACxClB,EAAiBT,SAASC,cAAc,qBACxCoB,EAAkB,EAiBtBrB,SAAS4B,iBAAiB,SAAU,SAASC,GAGpCH,IACDb,OAAOiB,sBAAsB,WAC7BvB,IACAmB,GAAU,IAGVA,GAAU,KAIlB1B,SAASC,cAAc,qBAAqB2B,iBAAiB,QAAS,SAASC,GACvEA,GAAqB,MAArBA,EAAEE,OAAOC,QAAiB,CAC1BH,EAAEI,iBAGG,IADDjB,IAAAA,EAAchB,SAAS2B,iBAAiB,uBACnCzB,EAAI,EAAGA,EAAIc,EAAYC,OAAQf,IAChC2B,GAAAA,EAAEE,SAAWf,EAAYd,GAAI,CAC7BF,SAAS2B,iBAAiB,mBAAmBzB,GAAGgC,eAAe,CAACC,SAAU,WAC1E","file":"main.e15cc4ef.js","sourceRoot":"..","sourcesContent":["// Copy 4 wasm snippets\n{\n    let wasmSnippet = document.querySelector('.wasm-snippet-trail');\n    for (let i = 0; i < 4; i++) {\n        let clonedSnippet = wasmSnippet.cloneNode(true);\n        wasmSnippet.parentNode.insertBefore(clonedSnippet, wasmSnippet);\n    }\n}\n\n// feature active change when scrolling\n{\n    // Reference: http://www.html5rocks.com/en/tutorials/speed/animations/\n\n    let lastKnownScrollPosition = 0;\n    let ticking = false;\n\n    let featureList = document.querySelectorAll('.features-catalog li');\n    let featureContent = document.querySelector('.features-content');\n    let lastActiveIndex = 0;\n\n    function setActiveFeature() {\n        let offset = featureContent.getBoundingClientRect().y;\n        let winHeight = window.innerHeight;\n        let count = featureList.length;\n        let activeIndex = Math.floor((0.5 * winHeight - offset) / winHeight);\n        if (activeIndex >= count || activeIndex < 0) {\n            return;\n        }\n        if (activeIndex !== lastActiveIndex) {\n            featureList[lastActiveIndex].classList.remove('active');\n            featureList[activeIndex].classList.add('active');\n            lastActiveIndex = activeIndex;\n        }\n    }\n\n    document.addEventListener('scroll', function(e) {\n        // lastKnownScrollPosition = window.scrollY;\n\n        if (!ticking) {\n            window.requestAnimationFrame(function() {\n            setActiveFeature();\n            ticking = false;\n            });\n\n            ticking = true;\n        }\n    });\n\n    document.querySelector('.features-catalog').addEventListener('click', function(e) {\n        if (e.target.tagName === 'A') {\n            e.preventDefault();\n\n            let featureList = document.querySelectorAll('.features-catalog a');\n            for (let i = 0; i < featureList.length; i++) {\n                if (e.target === featureList[i]) {\n                    document.querySelectorAll('.feature-detail')[i].scrollIntoView({behavior: 'smooth'});\n                    break;\n                }\n            }\n        }\n    });\n\n}"]}